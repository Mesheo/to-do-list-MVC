<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link reL="stylesheet" href="style.css">
    <title>To Do List</title>
</head>
<body>

    <% if (typeof tasksList === "string") { %>

        <section id="taskUpdate">
            <h1>Atualize a descricao da task: </h1>

            <form method="POST" action="/task/<%= tasksList %>">
                <input type="hidden" name="_method" value="PUT">
                <input type="text" name="descricao_da_tarefa" id="task" value= <%=tasksList %>>
                <button id="addButton" type="submit">Atualizar</button>
            </form>
        </section>

    <% } else { %> 

        <header>
            <h1>Bem vindo! </h1>
            <form action="/create" method="POST"> 
                <input type="text" name="descricao_da_tarefa" id="task" placeholder="Insira uma tarefa">
                <button id="addButton" type="submit">Adicionar</button>
            </form>
        </header>

        <section id="tasksList">
            <ul>
                <%  for(let i = 0; i<tasksList.length; i++) { %>
                    <li> 
                        <%= tasksList[i].descricao %> 
                        <input type="checkbox" name="isCheck" value=boolean <% if(tasksList[i].marcado) { %> checked <% } %> >
                        <a href="/task/<%= tasksList[i]._id %>">Editar</a>

                        <form method="POST" action="/task/<%= tasksList[i]._id %>">
                            <input type="hidden" name="_method" value="DELETE">
                            <input type="submit" value="Apagar">
                        </form>
                    </li>
                <% } %>
            </ul>
        </section>
        
    <% } %>
    
  
    <script src="script.js"></script> 
</body>
</html>